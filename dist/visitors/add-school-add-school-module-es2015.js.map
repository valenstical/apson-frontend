{"version":3,"sources":["/./src/app/members/add-school/add-school.component.html","/./src/app/members/add-school/basic-details/basic-details.component.html","/./src/app/members/add-school/add-school.component.ts","/./src/app/members/add-school/add-school.module.ts","/./src/app/members/add-school/basic-details/basic-details.component.ts"],"names":[],"mappings":"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","file":"add-school-add-school-module-es2015.js","sourcesContent":["module.exports = \"<app-basic-details></app-basic-details>\\n\"","module.exports = \"<div class=\\\"row no-border\\\">\\n  <div class=\\\"col-12 col-lg-3\\\" *ngIf=\\\"school\\\">\\n    <div class=\\\"form-section-heading\\\">\\n      <h4>1. Basic Information</h4>\\n      <p>Add basic information about your school here</p>\\n    </div>\\n  </div>\\n  <div\\n    class=\\\"col-12 col-lg-9\\\"\\n    [class.offset-lg-1]=\\\"!school\\\"\\n    [class.col-lg-10]=\\\"!school\\\"\\n  >\\n    <div class=\\\"form-section-heading\\\" *ngIf=\\\"!school\\\">\\n      <h4>Add a new school</h4>\\n      <p>\\n        Add basic information about your school here, you will add more\\n        information later.\\n      </p>\\n    </div>\\n    <form\\n      (submit)=\\\"updateDetails()\\\"\\n      [formGroup]=\\\"formData\\\"\\n      class=\\\"form pl-4 position-relative pr-4 pt-5  form-box pb-4\\\"\\n    >\\n      <lib-input\\n        [title]=\\\"'School Name'\\\"\\n        [type]=\\\"'text'\\\"\\n        [formData]=\\\"formData\\\"\\n        [name]=\\\"'name'\\\"\\n        [invalidText]=\\\"'School name is required'\\\"\\n      ></lib-input>\\n      <lib-select\\n        [title]=\\\"'Type of school'\\\"\\n        [data]=\\\"['Creche/Nursery', 'Primary', 'Secondary']\\\"\\n        [formData]=\\\"formData\\\"\\n        [name]=\\\"'type'\\\"\\n        [invalidText]=\\\"'School type is required'\\\"\\n      ></lib-select>\\n      <lib-input\\n        [title]=\\\"'Year Founded'\\\"\\n        [type]=\\\"'number'\\\"\\n        [formData]=\\\"formData\\\"\\n        [name]=\\\"'founded'\\\"\\n        [invalidText]=\\\"'Enter a valid year (e.g 2012)'\\\"\\n      ></lib-input>\\n      <div class=\\\"form-group\\\">\\n        <label for=\\\"gender\\\" class=\\\"d-block\\\">Accepted Gender</label>\\n        <div class=\\\"custom-control custom-radio d-inline-block mr-5 mb-2\\\">\\n          <input\\n            id=\\\"genderMixed\\\"\\n            [formControl]=\\\"formData.get('gender')\\\"\\n            value=\\\"0\\\"\\n            type=\\\"radio\\\"\\n            class=\\\"custom-control-input\\\"\\n          />\\n          <label\\n            class=\\\"custom-control-label font-weight-normal\\\"\\n            for=\\\"genderMixed\\\"\\n            >Mixed</label\\n          >\\n        </div>\\n        <div class=\\\"custom-control custom-radio d-inline-block mr-5 mb-2\\\">\\n          <input\\n            id=\\\"genderMale\\\"\\n            [formControl]=\\\"formData.get('gender')\\\"\\n            value=\\\"1\\\"\\n            type=\\\"radio\\\"\\n            class=\\\"custom-control-input\\\"\\n          />\\n          <label\\n            class=\\\"custom-control-label font-weight-normal\\\"\\n            for=\\\"genderMale\\\"\\n            >Male Only</label\\n          >\\n        </div>\\n        <div class=\\\"custom-control custom-radio d-inline-block mb-2\\\">\\n          <input\\n            id=\\\"genderFemale\\\"\\n            [formControl]=\\\"formData.get('gender')\\\"\\n            value=\\\"2\\\"\\n            type=\\\"radio\\\"\\n            class=\\\"custom-control-input\\\"\\n          />\\n          <label\\n            class=\\\"custom-control-label font-weight-normal\\\"\\n            for=\\\"genderFemale\\\"\\n            >Female Only</label\\n          >\\n        </div>\\n      </div>\\n      <lib-alert\\n        *ngIf=\\\"!hideAlert\\\"\\n        [message]=\\\"response.message\\\"\\n        [type]=\\\"response.type\\\"\\n        [title]=\\\"response.title\\\"\\n      ></lib-alert>\\n      <div class=\\\"text-right text-sm btn-grouped ml-n4 mr-n4 pr-4 pl-4\\\">\\n        <lib-submit-button\\n          [text]=\\\"'Save changes'\\\"\\n          [maxWidth]=\\\"''\\\"\\n          [isBusy]=\\\"isBusy\\\"\\n          [disabled]=\\\"formData.invalid\\\"\\n        ></lib-submit-button>\\n      </div>\\n    </form>\\n  </div>\\n</div>\\n\"","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { BaseComponent } from 'shared';\nimport { CommonService } from '../services/common-service.service';\n\n@Component({\n  selector: 'app-add-school',\n  templateUrl: './add-school.component.html',\n})\nexport class AddSchoolComponent extends BaseComponent\n  implements OnInit, OnDestroy {\n  constructor(private commonService: CommonService) {\n    super();\n  }\n\n  ngOnInit() {\n    this.commonService.fullWidth = true;\n  }\n\n  ngOnDestroy(): void {\n    this.commonService.fullWidth = false;\n    super.ngOnDestroy();\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { CommonModule } from '@angular/common';\nimport { SharedModule } from 'shared';\nimport { AddSchoolComponent } from './add-school.component';\nimport { BasicDetailsComponent } from './basic-details/basic-details.component';\nimport { MessageBoxModule } from '../message-box/message-box.module';\n\n@NgModule({\n  declarations: [AddSchoolComponent, BasicDetailsComponent],\n  imports: [\n    CommonModule,\n    SharedModule,\n    MessageBoxModule,\n    RouterModule.forChild([\n      {\n        path: '',\n        pathMatch: 'full',\n        component: AddSchoolComponent,\n      },\n    ]),\n  ],\n})\nexport class AddSchoolModule {}\n","import { Component, OnDestroy, OnInit, Input } from '@angular/core';\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\nimport { RequestService, BaseComponent, School } from 'shared';\nimport { CommonService } from '../../services/common-service.service';\n\n@Component({\n  selector: 'app-basic-details',\n  templateUrl: './basic-details.component.html',\n})\nexport class BasicDetailsComponent extends BaseComponent\n  implements OnInit, OnDestroy {\n  @Input() school: School;\n\n  formData: FormGroup = this.formBuilder.group({\n    name: ['', Validators.required],\n    type: ['', Validators.required],\n    founded: [\n      '',\n      [Validators.required, Validators.min(1000), Validators.max(9999)],\n    ],\n    gender: ['0'],\n  });\n\n  constructor(\n    private formBuilder: FormBuilder,\n    private requestService: RequestService,\n    private commonService: CommonService,\n  ) {\n    super();\n  }\n\n  editSchool() {\n    this.subscription.add(\n      this.requestService\n        .patch(`schools/${this.school.id}`, this.formData.value)\n        .subscribe(\n          response => {\n            this.toggleLoaders(false);\n            this.showMessage([response.message], '', 'success');\n          },\n          error => {\n            this.handleError(error);\n          },\n        ),\n    );\n  }\n\n  createSchool() {\n    this.subscription.add(\n      this.requestService.post('schools', this.formData.value).subscribe(\n        response => {\n          const { data } = response;\n          this.toggleLoaders(false);\n          this.commonService.saveActiveSchool(data.id);\n        },\n        error => {\n          this.handleError(error);\n        },\n      ),\n    );\n  }\n\n  updateDetails() {\n    this.toggleLoaders(true);\n    this.school ? this.editSchool() : this.createSchool();\n  }\n\n  ngOnInit(): void {\n    if (this.school) {\n      const { name, type, founded, gender } = this.school;\n      this.formData.setValue({\n        name,\n        type,\n        founded,\n        gender: gender.toString(),\n      });\n    }\n  }\n\n  ngOnDestroy(): void {\n    super.ngOnDestroy();\n  }\n}\n"],"sourceRoot":""}