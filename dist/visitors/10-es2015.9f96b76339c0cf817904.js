(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{D976:function(l,n,u){"use strict";u.r(n);var o=u("kZht");class e{}var t=u("C9Ky"),i=u("LvnR"),a=u("J9iq"),s=u("An66"),r=u("3kIJ");class b extends a.d{constructor(l,n,u){super(),this.formBuilder=l,this.requestService=n,this.commonService=u,this.formData=this.formBuilder.group({name:["",r.r.required],type:["",r.r.required],founded:["",[r.r.required,r.r.min(1e3),r.r.max(9999)]],gender:["0"]})}editSchool(){this.subscription.add(this.requestService.patch(`schools/${this.school.id}`,this.formData.value).subscribe(l=>{this.toggleLoaders(!1),this.showMessage([l.message],"","success")},l=>{this.handleError(l)}))}createSchool(){this.subscription.add(this.requestService.post("schools",this.formData.value).subscribe(l=>{const{data:n}=l;this.toggleLoaders(!1),this.commonService.saveActiveSchool(n.id)},l=>{this.handleError(l)}))}updateDetails(){this.toggleLoaders(!0),this.school?this.editSchool():this.createSchool()}ngOnInit(){if(this.school){const{name:l,type:n,founded:u,gender:o}=this.school;this.formData.setValue({name:l,type:n,founded:u,gender:o.toString()})}}ngOnDestroy(){super.ngOnDestroy()}}var c=u("RZ0X"),d=o.nb({encapsulation:2,styles:[],data:{}});function p(l){return o.Hb(0,[(l()(),o.pb(0,0,null,null,5,"div",[["class","col-12 col-lg-3"]],null,null,null,null,null)),(l()(),o.pb(1,0,null,null,4,"div",[["class","form-section-heading"]],null,null,null,null,null)),(l()(),o.pb(2,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),o.Gb(-1,null,["1. Basic Information"])),(l()(),o.pb(4,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),o.Gb(-1,null,["Add basic information about your school here"]))],null,null)}function g(l){return o.Hb(0,[(l()(),o.pb(0,0,null,null,4,"div",[["class","form-section-heading"]],null,null,null,null,null)),(l()(),o.pb(1,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),o.Gb(-1,null,["Add a new school"])),(l()(),o.pb(3,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),o.Gb(-1,null,[" Add basic information about your school here, you will add more information later. "]))],null,null)}function m(l){return o.Hb(0,[(l()(),o.pb(0,0,null,null,1,"lib-alert",[],null,null,null,i.l,i.c)),o.ob(1,114688,null,0,a.k,[],{type:[0,"type"],title:[1,"title"],message:[2,"message"]},null)],function(l,n){var u=n.component;l(n,1,0,u.response.type,u.response.title,u.response.message)},null)}function h(l){return o.Hb(0,[(l()(),o.pb(0,0,null,null,55,"div",[["class","row no-border"]],null,null,null,null,null)),(l()(),o.eb(16777216,null,null,1,null,p)),o.ob(2,16384,null,0,s.i,[o.M,o.J],{ngIf:[0,"ngIf"]},null),(l()(),o.pb(3,0,null,null,52,"div",[["class","col-12 col-lg-9"]],[[2,"offset-lg-1",null],[2,"col-lg-10",null]],null,null,null,null)),(l()(),o.eb(16777216,null,null,1,null,g)),o.ob(5,16384,null,0,s.i,[o.M,o.J],{ngIf:[0,"ngIf"]},null),(l()(),o.pb(6,0,null,null,49,"form",[["class","form pl-4 position-relative pr-4 pt-5  form-box pb-4"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,u){var e=!0,t=l.component;return"submit"===n&&(e=!1!==o.Ab(l,8).onSubmit(u)&&e),"reset"===n&&(e=!1!==o.Ab(l,8).onReset()&&e),"submit"===n&&(e=!1!==t.updateDetails()&&e),e},null,null)),o.ob(7,16384,null,0,r.w,[],null,null),o.ob(8,540672,null,0,r.g,[[8,null],[8,null]],{form:[0,"form"]},null),o.Db(2048,null,r.b,null,[r.g]),o.ob(10,16384,null,0,r.l,[[4,r.b]],null,null),(l()(),o.pb(11,0,null,null,1,"lib-input",[],null,null,null,i.m,i.d)),o.ob(12,49152,null,0,a.l,[],{name:[0,"name"],title:[1,"title"],type:[2,"type"],formData:[3,"formData"],invalidText:[4,"invalidText"]},null),(l()(),o.pb(13,0,null,null,2,"lib-select",[],null,null,null,i.n,i.e)),o.ob(14,49152,null,0,a.m,[],{name:[0,"name"],title:[1,"title"],data:[2,"data"],formData:[3,"formData"],invalidText:[4,"invalidText"]},null),o.Bb(15,3),(l()(),o.pb(16,0,null,null,1,"lib-input",[],null,null,null,i.m,i.d)),o.ob(17,49152,null,0,a.l,[],{name:[0,"name"],title:[1,"title"],type:[2,"type"],formData:[3,"formData"],invalidText:[4,"invalidText"]},null),(l()(),o.pb(18,0,null,null,32,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),o.pb(19,0,null,null,1,"label",[["class","d-block"],["for","gender"]],null,null,null,null,null)),(l()(),o.Gb(-1,null,["Accepted Gender"])),(l()(),o.pb(21,0,null,null,9,"div",[["class","custom-control custom-radio d-inline-block mr-5 mb-2"]],null,null,null,null,null)),(l()(),o.pb(22,0,null,null,6,"input",[["class","custom-control-input"],["id","genderMixed"],["type","radio"],["value","0"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(l,n,u){var e=!0;return"input"===n&&(e=!1!==o.Ab(l,23)._handleInput(u.target.value)&&e),"blur"===n&&(e=!1!==o.Ab(l,23).onTouched()&&e),"compositionstart"===n&&(e=!1!==o.Ab(l,23)._compositionStart()&&e),"compositionend"===n&&(e=!1!==o.Ab(l,23)._compositionEnd(u.target.value)&&e),"change"===n&&(e=!1!==o.Ab(l,24).onChange()&&e),"blur"===n&&(e=!1!==o.Ab(l,24).onTouched()&&e),e},null,null)),o.ob(23,16384,null,0,r.c,[o.B,o.k,[2,r.a]],null,null),o.ob(24,212992,null,0,r.o,[o.B,o.k,r.t,o.p],{value:[0,"value"]},null),o.Db(1024,null,r.i,function(l,n){return[l,n]},[r.c,r.o]),o.ob(26,540672,null,0,r.e,[[8,null],[8,null],[6,r.i],[2,r.u]],{form:[0,"form"]},null),o.Db(2048,null,r.j,null,[r.e]),o.ob(28,16384,null,0,r.k,[[4,r.j]],null,null),(l()(),o.pb(29,0,null,null,1,"label",[["class","custom-control-label font-weight-normal"],["for","genderMixed"]],null,null,null,null,null)),(l()(),o.Gb(-1,null,["Mixed"])),(l()(),o.pb(31,0,null,null,9,"div",[["class","custom-control custom-radio d-inline-block mr-5 mb-2"]],null,null,null,null,null)),(l()(),o.pb(32,0,null,null,6,"input",[["class","custom-control-input"],["id","genderMale"],["type","radio"],["value","1"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(l,n,u){var e=!0;return"input"===n&&(e=!1!==o.Ab(l,33)._handleInput(u.target.value)&&e),"blur"===n&&(e=!1!==o.Ab(l,33).onTouched()&&e),"compositionstart"===n&&(e=!1!==o.Ab(l,33)._compositionStart()&&e),"compositionend"===n&&(e=!1!==o.Ab(l,33)._compositionEnd(u.target.value)&&e),"change"===n&&(e=!1!==o.Ab(l,34).onChange()&&e),"blur"===n&&(e=!1!==o.Ab(l,34).onTouched()&&e),e},null,null)),o.ob(33,16384,null,0,r.c,[o.B,o.k,[2,r.a]],null,null),o.ob(34,212992,null,0,r.o,[o.B,o.k,r.t,o.p],{value:[0,"value"]},null),o.Db(1024,null,r.i,function(l,n){return[l,n]},[r.c,r.o]),o.ob(36,540672,null,0,r.e,[[8,null],[8,null],[6,r.i],[2,r.u]],{form:[0,"form"]},null),o.Db(2048,null,r.j,null,[r.e]),o.ob(38,16384,null,0,r.k,[[4,r.j]],null,null),(l()(),o.pb(39,0,null,null,1,"label",[["class","custom-control-label font-weight-normal"],["for","genderMale"]],null,null,null,null,null)),(l()(),o.Gb(-1,null,["Male Only"])),(l()(),o.pb(41,0,null,null,9,"div",[["class","custom-control custom-radio d-inline-block mb-2"]],null,null,null,null,null)),(l()(),o.pb(42,0,null,null,6,"input",[["class","custom-control-input"],["id","genderFemale"],["type","radio"],["value","2"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(l,n,u){var e=!0;return"input"===n&&(e=!1!==o.Ab(l,43)._handleInput(u.target.value)&&e),"blur"===n&&(e=!1!==o.Ab(l,43).onTouched()&&e),"compositionstart"===n&&(e=!1!==o.Ab(l,43)._compositionStart()&&e),"compositionend"===n&&(e=!1!==o.Ab(l,43)._compositionEnd(u.target.value)&&e),"change"===n&&(e=!1!==o.Ab(l,44).onChange()&&e),"blur"===n&&(e=!1!==o.Ab(l,44).onTouched()&&e),e},null,null)),o.ob(43,16384,null,0,r.c,[o.B,o.k,[2,r.a]],null,null),o.ob(44,212992,null,0,r.o,[o.B,o.k,r.t,o.p],{value:[0,"value"]},null),o.Db(1024,null,r.i,function(l,n){return[l,n]},[r.c,r.o]),o.ob(46,540672,null,0,r.e,[[8,null],[8,null],[6,r.i],[2,r.u]],{form:[0,"form"]},null),o.Db(2048,null,r.j,null,[r.e]),o.ob(48,16384,null,0,r.k,[[4,r.j]],null,null),(l()(),o.pb(49,0,null,null,1,"label",[["class","custom-control-label font-weight-normal"],["for","genderFemale"]],null,null,null,null,null)),(l()(),o.Gb(-1,null,["Female Only"])),(l()(),o.eb(16777216,null,null,1,null,m)),o.ob(52,16384,null,0,s.i,[o.M,o.J],{ngIf:[0,"ngIf"]},null),(l()(),o.pb(53,0,null,null,2,"div",[["class","text-right text-sm btn-grouped ml-n4 mr-n4 pr-4 pl-4"]],null,null,null,null,null)),(l()(),o.pb(54,0,null,null,1,"lib-submit-button",[],null,null,null,i.k,i.b)),o.ob(55,114688,null,0,a.j,[],{isBusy:[0,"isBusy"],text:[1,"text"],disabled:[2,"disabled"],maxWidth:[3,"maxWidth"]},null)],function(l,n){var u=n.component;l(n,2,0,u.school),l(n,5,0,!u.school),l(n,8,0,u.formData),l(n,12,0,"name","School Name","text",u.formData,"School name is required");var o=l(n,15,0,"Creche/Nursery","Primary","Secondary");l(n,14,0,"type","Type of school",o,u.formData,"School type is required"),l(n,17,0,"founded","Year Founded","number",u.formData,"Enter a valid year (e.g 2012)"),l(n,24,0,"0"),l(n,26,0,u.formData.get("gender")),l(n,34,0,"1"),l(n,36,0,u.formData.get("gender")),l(n,44,0,"2"),l(n,46,0,u.formData.get("gender")),l(n,52,0,!u.hideAlert),l(n,55,0,u.isBusy,"Save changes",u.formData.invalid,"")},function(l,n){var u=n.component;l(n,3,0,!u.school,!u.school),l(n,6,0,o.Ab(n,10).ngClassUntouched,o.Ab(n,10).ngClassTouched,o.Ab(n,10).ngClassPristine,o.Ab(n,10).ngClassDirty,o.Ab(n,10).ngClassValid,o.Ab(n,10).ngClassInvalid,o.Ab(n,10).ngClassPending),l(n,22,0,o.Ab(n,28).ngClassUntouched,o.Ab(n,28).ngClassTouched,o.Ab(n,28).ngClassPristine,o.Ab(n,28).ngClassDirty,o.Ab(n,28).ngClassValid,o.Ab(n,28).ngClassInvalid,o.Ab(n,28).ngClassPending),l(n,32,0,o.Ab(n,38).ngClassUntouched,o.Ab(n,38).ngClassTouched,o.Ab(n,38).ngClassPristine,o.Ab(n,38).ngClassDirty,o.Ab(n,38).ngClassValid,o.Ab(n,38).ngClassInvalid,o.Ab(n,38).ngClassPending),l(n,42,0,o.Ab(n,48).ngClassUntouched,o.Ab(n,48).ngClassTouched,o.Ab(n,48).ngClassPristine,o.Ab(n,48).ngClassDirty,o.Ab(n,48).ngClassValid,o.Ab(n,48).ngClassInvalid,o.Ab(n,48).ngClassPending)})}class f extends a.d{constructor(l){super(),this.commonService=l}ngOnInit(){this.commonService.fullWidth=!0}ngOnDestroy(){this.commonService.fullWidth=!1,super.ngOnDestroy()}}var v=o.nb({encapsulation:2,styles:[],data:{}});function A(l){return o.Hb(0,[(l()(),o.pb(0,0,null,null,1,"app-basic-details",[],null,null,null,h,d)),o.ob(1,245760,null,0,b,[r.d,a.f,c.a],null,null)],function(l,n){l(n,1,0)},null)}function y(l){return o.Hb(0,[(l()(),o.pb(0,0,null,null,1,"app-add-school",[],null,null,null,A,v)),o.ob(1,245760,null,0,f,[c.a],null,null)],function(l,n){l(n,1,0)},null)}var D=o.lb("app-add-school",f,y,{},{},[]),C=u("1VvW"),S=u("a8yS");u.d(n,"AddSchoolModuleNgFactory",function(){return k});var k=o.mb(e,[],function(l){return o.yb([o.zb(512,o.j,o.X,[[8,[t.a,D]],[3,o.j],o.v]),o.zb(4608,s.k,s.j,[o.s,[2,s.r]]),o.zb(4608,r.t,r.t,[]),o.zb(4608,r.d,r.d,[]),o.zb(1073742336,s.b,s.b,[]),o.zb(1073742336,C.q,C.q,[[2,C.v],[2,C.m]]),o.zb(1073742336,r.s,r.s,[]),o.zb(1073742336,r.h,r.h,[]),o.zb(1073742336,r.p,r.p,[]),o.zb(1073742336,a.h,a.h,[]),o.zb(1073742336,S.a,S.a,[]),o.zb(1073742336,e,e,[]),o.zb(1024,C.i,function(){return[[{path:"",pathMatch:"full",component:f}]]},[])])})}}]);